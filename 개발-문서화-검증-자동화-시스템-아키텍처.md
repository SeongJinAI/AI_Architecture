# Claude Code ê°œë°œ ìë™í™” íŒŒì´í”„ë¼ì¸
 
> ì½”ë“œ ì‘ì„± â†’ ë¬¸ì„œ ìƒì„± â†’ ì¸ìˆ˜ì¸ê³„ â†’ PR ë¦¬ë·°ê¹Œì§€ ìë™í™”
 
## ê°œìš”
 
3ê°œì˜ ì—ì´ì „íŠ¸ê°€ ê°œë°œ ì‚¬ì´í´ ì „ì²´ë¥¼ ìë™í™”í•©ë‹ˆë‹¤.
 
| ì—ì´ì „íŠ¸ | ì—­í•  | íŠ¸ë¦¬ê±° |
|----------|------|--------|
| **ì—ì´ì „íŠ¸ 1** | 7ì¢… ë¬¸ì„œ ìë™ ìƒì„± | ê¸°ëŠ¥ ê°œë°œ ì™„ë£Œ ì‹œ |
| **ì—ì´ì „íŠ¸ 2** | ì»¨í…ìŠ¤íŠ¸ ì¸ìˆ˜ì¸ê³„ | `/compact` ëª…ë ¹ì–´ |
| **ì—ì´ì „íŠ¸ 3** | AI PR ë¦¬ë·° (GPT, Claude) | PR ìƒì„± ì‹œ |
 
```
ì½”ë“œ ì‘ì„± â†’ [ì—ì´ì „íŠ¸1] ë¬¸ì„œ ìƒì„± â†’ [ì—ì´ì „íŠ¸2] ì¸ìˆ˜ì¸ê³„ â†’ PR â†’ [ì—ì´ì „íŠ¸3] ìë™ ë¦¬ë·°
```
 
---
 
## ì„¸íŒ… ë°©ë²•
 
### 1ë‹¨ê³„: CLAUDE.md ìƒì„±
 
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `CLAUDE.md` íŒŒì¼ ìƒì„± í›„ ì•„ë˜ ë‚´ìš© ì¶”ê°€:
 
```markdown
### Feature Development Completion Checklist
 
ê¸°ëŠ¥ ê°œë°œ ì™„ë£Œ í›„ ë°˜ë“œì‹œ ë‹¤ìŒ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸/ìƒì„±í•©ë‹ˆë‹¤.
 
**ë¬¸ì„œ ìœ„ì¹˜**: `src/docs/`
 
| ë¬¸ì„œ ìœ í˜• | íŒŒì¼ ìœ„ì¹˜ | ì„¤ëª… |
|----------|----------|------|
| ê¸°ëŠ¥ëª…ì„¸ì„œ | `{ê¸°ëŠ¥ëª…}_ê¸°ëŠ¥ëª…ì„¸ì„œ.md` | API ëª…ì„¸, ë°ì´í„° êµ¬ì¡° |
| ì•„í‚¤í…ì²˜ ì„¤ëª…ì„œ | `architecture/{ê¸°ëŠ¥ëª…}.md` | ì „ì²´ íë¦„ ë‹¤ì´ì–´ê·¸ë¨ |
| ì‚¬ìš©ìë§¤ë‰´ì–¼ | `user-guide/{ê¸°ëŠ¥ëª…}.md` | í™”ë©´ë³„ ì‚¬ìš©ë²• |
| ì—ëŸ¬ë©”ì„¸ì§€ | `ERROR_MESSAGES.md` | ì—ëŸ¬ ì½”ë“œ ì¶”ê°€ |
| íŠ¸ëŸ¬ë¸”ìŠˆíŒ… | `ISSUE_00X_{ì´ìŠˆëª…}.md` | ì´ìŠˆ ì›ì¸/í•´ê²° |
| ì¸ì‚¬ì´íŠ¸ | `insights/{ì£¼ì œ}.md` | ë„ë©”ì¸ ì§€ì‹ |
| ì•„í‚¤í…ì²˜ íŠ¹ì´ì‚¬í•­ | `í”„ë¡œì íŠ¸_ì•„í‚¤í…ì²˜_íŠ¹ì´ì‚¬í•­.md` | ì„¤ê³„ ê²°ì •ì‚¬í•­ |
 
#### ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ê¸°ëŠ¥ëª…ì„¸ì„œ ì‘ì„±
- [ ] ì•„í‚¤í…ì²˜ ì„¤ëª…ì„œ ì‘ì„±
- [ ] ì‚¬ìš©ìë§¤ë‰´ì–¼ ì‘ì„±
- [ ] ERROR_MESSAGES.md ì—…ë°ì´íŠ¸
- [ ] ë¹Œë“œ í™•ì¸
---
 
### 2ë‹¨ê³„: HANDOFF.md ìƒì„±

---
### Context Handoff (HANDOFF.md)
 
**ìœ„ì¹˜**: `HANDOFF.md` (í”„ë¡œì íŠ¸ ë£¨íŠ¸)
 
**í•„ìˆ˜ ê¸°ë¡ í•­ëª©**:
1. **ì™„ë£Œëœ ì‘ì—…**: ì´ë²ˆ ì„¸ì…˜ ì™„ë£Œ ëª©ë¡
2. **ë‹¤ìŒ ì‘ì—…**: ì´ì–´ì„œ í•´ì•¼ í•  ì‘ì—…
3. **ì£¼ì˜ì‚¬í•­**: ë¸Œëœì¹˜, ë¹Œë“œ ì´ìŠˆ ë“±
4. **ê´€ë ¨ íŒŒì¼**: ì‘ì—… ì¤‘ì¸ ì£¼ìš” íŒŒì¼
 
**`/compact` ëª…ë ¹ì–´**:
ì‚¬ìš©ìê°€ `/compact` ì…ë ¥ ì‹œ ë°˜ë“œì‹œ:
1. HANDOFF.mdì— í˜„ì¬ ì‘ì—… ë‚´ìš© ê¸°ë¡
2. ë‚ ì§œ/ì‹œê°„ í—¤ë” ì¶”ê°€
3. "ì¸ìˆ˜ì¸ê³„ ì™„ë£Œ" ë©”ì‹œì§€ ì¶œë ¥
 
**IMPORTANT**: `/compact` ì‹œ HANDOFF.md ì—…ë°ì´íŠ¸ëŠ” **í•„ìˆ˜**ì…ë‹ˆë‹¤.
---
 
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `HANDOFF.md` íŒŒì¼ ìƒì„±:
 
```markdown
# ì¸ìˆ˜ì¸ê³„ ê¸°ë¡
 
## 2024.XX.XX HH:mm
 
### ì™„ë£Œëœ ì‘ì—…
- [ ] ì‘ì—… ë‚´ìš©
 
### ë‹¤ìŒ ì‘ì—…
- [ ] ë‹¤ìŒ ì‘ì—… ë‚´ìš©
 
### ì£¼ì˜ì‚¬í•­
- ë¸Œëœì¹˜ëª…, ë¹Œë“œ ì´ìŠˆ ë“±
 
### ê´€ë ¨ íŒŒì¼
- `src/...`
```
 
---
 
### 3ë‹¨ê³„: PR ìë™ ë¦¬ë·° ì„¤ì •
 
`.github/workflows/pr-review.yml` íŒŒì¼ ìƒì„±:
 
```yaml
name: Security Review
on:
  pull_request:
    branches: [main]
    types: [opened, synchronize]

jobs:
  security:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
      security-events: write
      id-token: write
    steps:
      - uses: actions/checkout@v6
        with:
          fetch-depth: 1

      - uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          # Optional: Add track_progress: true for visual progress tracking during security reviews
          # track_progress: true
          prompt: |
            REPO: ${{ github.repository }}
            PR NUMBER: ${{ github.event.pull_request.number }}

            Perform a comprehensive security review:

            ## OWASP Top 10 Analysis
            - SQL Injection vulnerabilities
            - Cross-Site Scripting (XSS)
            - Broken Authentication
            - Sensitive Data Exposure
            - XML External Entities (XXE)
            - Broken Access Control
            - Security Misconfiguration
            - Cross-Site Request Forgery (CSRF)
            - Using Components with Known Vulnerabilities
            - Insufficient Logging & Monitoring

            ## Additional Security Checks
            - Hardcoded secrets or credentials
            - Insecure cryptographic practices
            - Unsafe deserialization
            - Server-Side Request Forgery (SSRF)
            - Race conditions or TOCTOU issues

            Rate severity as: CRITICAL, HIGH, MEDIUM, LOW, or NONE.
            Post detailed findings with recommendations.

          claude_args: |
            --allowedTools "mcp__github_inline_comment__create_inline_comment,Bash(gh pr comment:*),Bash(gh pr diff:*)"
```
 
---
 
### 4ë‹¨ê³„: GitHub Secrets ë“±ë¡
 
Repository â†’ Settings â†’ Secrets and variables â†’ Actions
 
| Secret ì´ë¦„ | ê°’ |
|-------------|-----|
| `ANTHROPIC_API_KEY` | Anthropic API í‚¤ |
 
---
 
## ì‚¬ìš©ë²•
 
### ë¬¸ì„œ ìë™ ìƒì„± (ì—ì´ì „íŠ¸ 1)
```
ê¸°ëŠ¥ ê°œë°œ ì™„ë£Œ â†’ Claudeê°€ ìë™ìœ¼ë¡œ 7ì¢… ë¬¸ì„œ ìƒì„±/ì—…ë°ì´íŠ¸
```
 
### ì»¨í…ìŠ¤íŠ¸ ì¸ìˆ˜ì¸ê³„ (ì—ì´ì „íŠ¸ 2)
```
/compact ì…ë ¥ ë˜ëŠ” Auto Compact â†’ HANDOFF.md ìë™ ì—…ë°ì´íŠ¸ â†’ ë‹¤ìŒ ì„¸ì…˜ì—ì„œ ì´ì–´ì„œ ì‘ì—…
```
 
### PR ìë™ ë¦¬ë·° (ì—ì´ì „íŠ¸ 3)
```
â€¢ feature â†’ dev PR ìƒì„± ê²€ì¦ì€ GPT Codex (ì½”ë“œ ë¦¬ë·°)
â€¢ dev â†’ main PR ìƒì„± ê²€ì¦ì€ Claude Code Action (ë³´ì•ˆ ë¦¬ë·°)
```
 
---
 
## ì²´í¬ë¦¬ìŠ¤íŠ¸
 
- [ ] `CLAUDE.md` ìƒì„± (ì—ì´ì „íŠ¸ 1, 2 ê·œì¹™)
- [ ] `HANDOFF.md` ìƒì„± (ì¸ìˆ˜ì¸ê³„ í…œí”Œë¦¿)
- [ ] `.github/workflows/pr-review.yml` ìƒì„±
- [ ] GitHub Secrets ë“±ë¡ (OPENAI_API_KEY, ANTHROPIC_API_KEY)
- [ ] `src/docs/` í´ë” ìƒì„±
 
---
 
## ê²°ê³¼ë¬¼ ì˜ˆì‹œ
 
### ìë™ ìƒì„±ë˜ëŠ” ë¬¸ì„œ (ì—ì´ì „íŠ¸ 1)
```
src/docs/
â”œâ”€â”€ ì§ì›ì •ë³´ê´€ë¦¬_ê¸°ëŠ¥ëª…ì„¸ì„œ.md
â”œâ”€â”€ ERROR_MESSAGES.md
â”œâ”€â”€ architecture/
â”‚   â””â”€â”€ ì§ì›ì •ë³´ê´€ë¦¬_ì•„í‚¤í…ì²˜_ì„¤ëª…ì„œ.md
â”œâ”€â”€ user-guide/
â”‚   â””â”€â”€ ì§ì›ì •ë³´ê´€ë¦¬_ì‚¬ìš©ìë§¤ë‰´ì–¼.md
â””â”€â”€ insights/
    â””â”€â”€ ê±´ì„¤_ë ˆë¯¸ì½˜íƒ€ì„¤.md
```
 
### ì¸ìˆ˜ì¸ê³„ ê¸°ë¡ (ì—ì´ì „íŠ¸ 2)
```markdown
## 2024.02.06 15:30
 
### ì™„ë£Œëœ ì‘ì—…
- [x] ì§ì› ì •ë³´ ê´€ë¦¬ API êµ¬í˜„
- [x] ê¸°ëŠ¥ëª…ì„¸ì„œ ì‘ì„±
 
### ë‹¤ìŒ ì‘ì—…
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- [ ] PR ìƒì„±
```
 
### PR ë¦¬ë·° ì½”ë©˜íŠ¸ (ì—ì´ì „íŠ¸ 3)
```
## ğŸ¤– GPT Codex Review
- UserService.java:45 - null ì²´í¬ ê¶Œì¥
 
## ğŸ”’ Claude Security Review
- [x] SQL ì¸ì ì…˜: ì•ˆì „
- [x] XSS: ì•ˆì „
```
 
